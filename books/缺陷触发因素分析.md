#  缺陷触发因素分析

## 概念&意义

<font color="#dd00dd" size="4" face="楷体">缺陷的触发因素就是测试人员发现缺陷的测试方法。缺陷触发因素分析，就是对测试中使用的测试方法进行分析。对缺陷触发因素进行分析，能够帮助我们确认产品测试是否已经进行得足够全面和深入；缺陷触发因素越全面，说明测试中使用的测试方法越多，测试得也越深入；反之意味着测试方法可能比较单一，测试得比较浅，产品可能还存在一些缺陷未能被有效去除。</font>

## 方法&步骤:
### 第一步:确定缺陷的测试方法和测试类型。
如果你的项目有缺陷的管理工具(如bugzila)，可以增加测试方法和测试类型的选项在测试发现缺陷的时候来记录相关的信息。如果没有缺陷管理工具也没有关系，你可以使用类似如下表的形式，来确定该缺陷的测试方法和测试类型。   
<table>
	<tr>
		<th width="125px">缺陷ID</th>
		<th width="125px">测试方法</th>
		<th width="125px">测试类型</th>
		<th width="125px">缺陷ID</th>
		<th width="125px">测试方法</th>
		<th width="125px">测试类型</th>
	</tr>
	<tr>
		<td>缺陷1</td>
		<td>单运行正常输入</td>
		<td>功能测试</td>
		<td>缺陷5</td>
		<td>压力测试法</td>
		<td>可靠性测试</td>
	</tr>
	<tr>
		<td>缺陷2</td>
		<td>多运行相互作用</td>
		<td>功能测试</td>
		<td>缺陷6</td>
		<td>稳定性测试法</td>
		<td>可靠性测试</td>
	</tr>
	<tr>
		<td>缺陷3</td>
		<td>多运行顺序执行</td>
		<td>功能测试</td>
		<td>缺陷7</td>
		<td>可用性测试法</td>
		<td>易用性测试</td>
	</tr>
	<tr>
		<td>缺陷4</td>
		<td>单运行边界值输入</td>
		<td>功能测试</td>
		<td>缺陷8</td>
		<td>安全性测试法</td>
		<td>安全性测试</td>
	</tr>	
</table>

### 第二步:统计出各种测试方法的缺陷数量，绘制缺陷触发因素分析图。
统计出各种测试方法的缺陷数量，类似如下表的形式，
<table>
	<tr>
		<th>测试类型</th>
		<th>测试方法</th>
		<th>缺陷数量</th>
		<th>测试类型</th>
		<th>测试方法</th>
		<th>缺陷数量</th>		
	</tr>
	<tr>
		<td>功能测试</td>
		<td>单运行正常输入</td>
		<td>10</td>
		<td>可靠性测试</td>
		<td>稳定性测试法</td>
		<td>5</td>
	</tr>
	<tr>
		<td>功能测试</td>
		<td>多运行互相作用</td>
		<td>15</td>
		<td>可靠性测试</td>
		<td>压力测试法</td>
		<td>6</td>
	</tr>
	<tr>
		<td>功能测试</td>
		<td>多运行顺序执行</td>
		<td>15</td>
		<td>易用性测试</td>
		<td>易操作测试法</td>
		<td>4</td>
	</tr>
	<tr>
		<td>功能测试</td>
		<td>单运行边界值输入</td>
		<td>20</td>
		<td>易用性测试</td>
		<td>易理解测试法</td>
		<td>5</td>
	</tr>	
</table>

根据上表中的数据绘制出缺陷触发因素分析图，类似如下图的形式：

![](https://shen89s.github.io/resFiles/r2/缺陷触发因素分析图.jpg)

### 第三步:开始分析缺陷触发因素分析图。

在理想情况下，我们希望做出的缺陷触发因素图和测试策略是吻合的。

例如，当前版本我们的测试策略是:

对功能首先进行配置的遍历测试，需要保证新提交的命令行和以前已有的Web页面功能具有一致性;再进行基本功能测试，能够覆盖业务流程的基本路径;最后进行满规格的测试。

按照上述测试策略，我们希望的缺陷触发因素图包含的测试方法和对应的测试内容大致为:

口  功能测试——单运行正常输入:进行基本功能测试，覆盖业务流程的基本路径测试时发现的问题。

口  功能测试——单运行边界值测试:进行配置测试时发现的问题。

口  功能测试——多运行相互作用:进行基本功能测试，覆盖业务流程的基本路径和配置测试时发现的问题。

口  性能测试——进行满规格测试时发现的问题。

如果我们持续对产品进行缺陷触发因素分析，参考历史数据，结合自身的经验，我们还可以得到“不同的测试方法发现缺陷的大致比值和分布”。当然，这个比值可能不是很准，但是也可以作为软件测试架构师对数据进行分析时的参考。

很多时候，我们都会发现，根据实际测试结果绘出的缺陷触发因素图可能会和之前预期的缺陷触发因素图存在一定的偏差，可能的情况有如下两种。

#### 有些测试方法没能发现缺陷或者发现的缺陷很少
出现这种情况，可以按照如下思路来进行分析：

认测试团队是否按照测试策略的要求使用了这种测试方法进行测试？如果答案是“否定”的，需要我们进一步确认原因。常见的原因有：

口  存在测试阻塞(如缺陷)，无法使用该方法进行测试。

口  测试投入(如人、时间)不足，来不及使用该方法进行测试。

口  没有掌握该项测试方法。

然后我们再根据具体原因对症下药，更新测试策略即可。

如果答案是“肯定”的，即团队遵循了测试策略使用该测试方法进行了测试，测试投入和测试方法都没有问题，但是确实没有发现问题，或者发现的问题较少，
这说明当前这种测试方法确实不能发现产品的缺陷，这样的结果应该是合理的。

对软件测试架构师来说，还需要意识到的一点就是，这样的数据结果可能暗示了产品在这方面的质量不错，和其他地方相比风险较低，
我们可以考虑调整测试策略，降低这方面的测试投入，减少对该测试方法的使用，等等。

