# 测试用例执行情况评估

## 概述

这里说的测试用例评估是指测试用例执行情况评估，   
属于测试过程评估分析的一种，测试过程评估分析的对象是测试用例、测试方法和测试投入。

为什么进行产品质量评估还需要对测试过程进行分析呢?

试想对一个产品测试来说：

- 有充分完备的测试用例和没有测试用例进行随机测试相比,哪一种测试的结果更可靠?
- 使用了多种测试方法与测试方法单一相比,哪一种测试结果更有助于进行产品质量评估?
- 有经验的测试人员、充足的测试投入与没有经验的测试人员、测试投入不足相比哪种测试情况更有利于测试目标的实现呢?

可见,对测试过程进行评估,对产品质量评估而言十分重要。

不仅如此,如果我们能够在测试之前就对测试过程进行计划,还能帮助我们更好地进行测试,更好地完成产品的测试目标。

我们可以通过如下3个指标来对“测试用例”进行评估:

- 测试用例执行率。
- 测试用例执行通过率。
- 测试用例和非测试用例发现缺陷比。

## 测试用例执行率

测试用例执行率是指“已经执行的测试用例数目”和“测试用例总数”的比值。   
其中“已经执行的测试用例数目”包含了测试结果为“通过”和“失败”的测试用例。

例如我们一共需要执行1000个用例,已经执行了600个用例,   
其中有500个测试用例执行结果为“通过”,100个测试用例的执行结果为“失败”,测试用例执行率是60%。

测试用例执行率可以帮助我们分析测试的全面性,因此我们希望这个指标在测试过程中能够达到100%,

实际中可能有如下一些情况会影响测试用例的执行率:

- 测试阻塞:指测试用例因为产品开发(一般是指缺陷)、测试(如测试环境不具备)等原因,无法被执行的测试用例。
- 未执行:指可以执行,但是因为进度、人力或其他原因等还没有被执行的测试用例。

对“阻塞”这种情况,软件测试架构师需要提前识别这些问题,   
进行风险识别和控制,如果这些问题已经是“缺陷”了,就需要要求开发人员优先解决这些问题。

此外,软件测试架构师还需要对测试用例划分优先级。   
在项目进行或者人力紧张的情况下,就可以优先保证高优先级的测试用例执行率,不执行某些低优先级的测试用例。

有时,一个测试用例会被反复执行多遍,在统计测试用例执行率时,反复执行的测试用例只用被记录一次。   
例如我们需要执行的测试用例有2000个,已经执行的测试用例有200个,其中有100个测试用例执行了2遍,   
此时的测试用例执行依然为200/2000=10%而非(100×2+100)/2000=15%。

## 测试用例执行通过率

测试用例执行通过率是指“测试用例执行结果为‘通过”的测试用例数”和“已经执行的测试用例数目”的比值。   
由于一个测试用例可能会被反复执行多次,按照测试用例是在第一次执行时就通过的,还是在后续测试时通过的,   
我们将测试用例执行通过率细分为如下两项：   
- 首次执行通过率:指“第一次执行该测试用例的结果为‘通过 的测试用例数”和“已经执行的测试用例数目”的比值。
- 累积执行通过率:指“测试用例结果为‘通过 的测试用例数”和“已经执行的测试用例数目”的比值。

测试用例首次执行通过率可以帮助我们评估开发版本的质量一测试用例首次执行通过率越高,说明开发的版本质量不错;   
相反,如果开发需要多次修复,最后才能使得测试用例执行通过,说明版本质量可能不高,   
产品在设计、编码方面可能存在一些问题,即便是修复bug,在修复时引入新bug的风险也会更大一些。

测试用例累积执行通过率可以帮助我们评估产品在发布时的质量。   
一般说来,测试用例累积执行通过率越高,说明当前的版本质量可能已经达到了基本要求,可以考虑发布。

## 测试用例和非测试用例发现缺陷比

测试人员在按照测试用例执行测试的时候,也会抛开测试用例,自我发挥,做些随机测试。   
显然,随机测试也能发现缺陷,有时候甚至比测试用例更能发现产品缺陷,而且“突然一个灵感来了,   
然后去测试,并且真的发现了产品缺陷”的过程,会让人很有成就感。   
因此在团队中,我们往往会鼓励大家在执行测试用例的时候适当进行一些发散测试,挖掘bug,找找感觉。

我们希望“通过测试用例发现的缺陷”和“发散测试,也就是非测试用例发现的缺陷的比值能够在一个合理的范围内。

如果比值过低,即大部分缺陷都是通过发散测试发现的,可能的问题是：   
- 随机测试投入过多。
- 测试设计水平不高,存在测试设计遗漏。
- 对产品的需求或者设计的理解不正确、不准确或者不深入,存在测试设计错误。

如果比值过高,大多数缺陷都是通过测试用例发现的,可能的问题是:   
- 测试人员不愿意进行发散测试(这样的测试团队可能也是一个比较沉闷、缺乏激情、只是完成任务的测试团队)。
- 测试投入不足,没有时间进行发散测试。
- 测试思路还没有打开。如果存在这种情况,说明测试设计可能也不够全面。

软件测试架构师可以在测试之前先确定好一个目标范围,   
并围绕目标来安排测试活动。在项目过程中,如果出现偏差,需要对缺陷进行分析,更新测试策略。


