# 测试覆盖度评估

测试覆盖度评估是对产品测试的全面性的分析和评估,是产品测试能够对产品质量进亍评估的基础。
在评估时,又可以从需求覆盖度和路径覆盖度两个方面进行分析评估,其定义和属性，见表6-3。

**************************

## 需求覆盖度评估

需求覆盖度是“已经测试验证的产品需求数”和“产品需求规格总数”的比值。

需求覆盖度的目标必须为100%,即测试保证对产品承诺要实现的需求都进行了验证,并要对产品是否满足需求给出评估。

如果测试无法做到对“需求进行100%的测试验证”,那么没有测试的这部分“需求”是什么情况?是实现了,还是没有实现?实现得是否正确?这些重要的问题都变得未知,无法对产品的质量做出正确的判断。

“需求覆盖度”中的“需求”,可以是“包需求”,也可以是“需求规格”“story""usercase”等可以代表项目中产品需求的内容,大家可以根据项目的实际情况来选择,本书在叙述这部分时不区分这些概念,统一写为“需求”。

需求覆盖度评估有以下两种方法。

### 方法1:直接在需求表中确认测试情况

方法1是各个测试责任人直接在产品的需求表中对需求的测试情况进行确认,见表6-4

**************************

方法1一般会在测试结束后进行，如果在确认时发现存在测试遗漏，虽然一般来说还是有时间补救，

但是很可能会打乱整个测试节奏，影响整个项目的进度，所以测试1最好不要在测试结束的时候才进行，

可以根据开发的迭代合入计划，一边测试，一边确认，如图6-9 所示。

**************************

### 方法2:建立测试用例和需求的对应关系

方法2是在测试设计的时候，通过编号来建立需求和测试用例的对应关系。

这样我们只要保证这些测试用例都执行了，需求也就被测试验证了，见表6-5。

**************************

方法2的优势是,测试能够从一开始就保证需求的覆盖,从源头上避免了需求遗漏的风险;

还很容易通过不同的测试设计方法,让不同优先级的需求能够有不同的测试深度更利于软件测试架构师对整个项目进行把控。

但是方法2也有一些需要注意的地方:

- 需要注意需求变化的部分:特别是在项目后期“增加”“修改”和“删除”的需求避免遗漏。
- 方法2和测试设计的关系变得比较紧密,测试设计遗漏可能会影响对需求覆盖度的评估。

另外在实际项目中,需求和测试用例的对应关系,可能也并不像前面表格的例子中那样标准的一对一的关系,而是一对多、多对一或多对多这种比较混乱的情况,

要想手工维护好这些关系并不是一件容易的事情,特别是当遇到需求发生变化了,或是通过缺陷来增加测试用例等情况的时候,要修改的地方就更多了。

所以,方法2最好能够有工具支持,能够通过工具来维护这些对应关系。

## 路径覆盖度评估

路径覆盖度是“已经测试到的语句的数量”和“程序中可执行语句的总数量”的比值。

对产品测试的路径覆盖情况进行分析,需要用到路径分析法,为了便于后文叙述,我们再对这些方法进行总结,见表6-6。

**************************

软件测试架构师可以使用如下步骤来对产品的路径覆盖度进行评估。

### 第一步:确定路径覆盖策略。

软件测试架构师可以以特性或者功能为粒度,根据该功能的质量目标来确定路径覆盖策略。

在如何选择确定路径覆盖策略上,建议如下:

- 可以将最小线性无关覆盖作为一个基本的路径覆盖方式。
- 对优先级高的功能特寺性,可以在最小线性无关覆盖的基础上增加一些路径。
- 对优先级低的功能特性,可以在最小线性无关覆盖的基础上减少一些路径。
- 不建议全面进行全覆盖,也不建议使用语句覆盖。

我们可以使用类似的表格对功能或特性的路径覆盖策略进行记录，见表6-7。

**************************

### 第二步:使用路径分析法设计测试用例。

接下来软件测试架构师就可以组织测试团队按照路径覆盖策略来设计测试用例。

### 第三步:跟踪测试用例的执行情况。

当测试团队按照路径覆盖策略完成了用例设计后,对路径覆盖度的评估,就转换为了测试用例执行情况的评估。

我们的目标是这些设计的用例能够至少被执行了一遍,并且测试结果为“通过”。如果存在测试用例在产品发布的时候都被“阻塞”,无法执行的情况,

我们就需要对阻塞的情况进行分析,评估当前的覆盖度是否能够满足测试的基本要求。
