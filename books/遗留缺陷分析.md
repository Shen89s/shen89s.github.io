# 遗留缺陷分析

## 概念
遗留缺陷分析是指分析那些在版本发布时不准备修复的缺陷。
## 内容
遗留缺陷分析最好在版本计划发布前的几个版本就开始进行,这是因为遗留缺陷需要项目中所有参与人员,如产品、需求人员等,都达成一致。
不同岗位的人员角度不同、意见不同是很正常的,沟通交流、协调缺陷的修改都需要时间。   
进行遗留缺陷分析需要参与的人有主要包括：   
口 产品和需求人员。   
口 研发人员，如研发经理-很多公司研发经理直接面向交付。   
口 测试人员。  

进行遗留缺陷分析需要考虑的主要内容包括:   
口 缺陷对用户的影响程度。   
口 缺陷发生的概率。   
口 缺陷风险评估和规避措施。   
## 详情
### 1.缺陷对用户的影响程度
缺陷对用户的影响程度是指缺陷在用户环境发生后会对用户造成怎样的影响。缺陷对用户的影响程度可以使用问题的严重级别来定义。

<table>
	<tr>
		<th>缺陷严重级别</th>
		<th>描述</th>
		<th>示例</th>
	</tr>
	<tr>
		<td>致命</td>
		<td>缺陷发生以后，产品的主要功能会<br>失效，业务会陷入瘫痪状态，关键<br>数据损坏或丢失，且故障无法自行<br>恢复（如无法自动重启恢复）</td>
		<td>1、产品主要功能失效或与用户不符，用户无法正常使用。<br>
			2、由程序引起的宕机，反复重启等，且故障无法自动恢复。<br>
			3、死循环、死锁、内存溢出、内存泄漏、内存重释放等。<br>
			4、系统存在严重的安全漏洞。<br>
			5、用户的关键数据毁坏或丢失并不可恢复。
		</td>
	</tr>
	<tr>
		<td>严重</td>
		<td>缺陷发生以后，产品主要功能无法<br>使用、失效、存在可靠性、安全性、<br>性能方面的重要问题，但在出现问<br>题后，一般可以自行恢复（如可以<br>通过重启恢复）</td>
		<td>1、产品重要功能不稳定。<br>
			2、由程序引起的宕机，反复重启等，但故障可以自动恢复。<br>
			3、文档与产品严重不符、缺失，或存在关键性错误。<br>
			4、产品难于理解和操作。<br>
			5、产品无法进行正常的维护。<br>
			6、产品升级后功能出现丢失、性能下降等。<br>
			7、性能达不到系统规格。<br>
			8、产品不符合标准规范，存在严重的兼容性问题。<br>
		</td>
	</tr>
	<tr>
		<td>一般</td>
		<td>缺陷发生以后，系统在功能、性能<br>、可靠性、易用性、可维护性、可<br>安装性等方面存在一般性的问题。</td>
		<td>1、产品一般性的功能失效或不稳定。<br>
			2、产品未进行输入限制（如正确值和错误值的界定）。<br>
			3、一般性的文档错误。<br>
			4、一般性的规范性和兼容性错误。<br>
			5、系统报表、日志、统计信息显示出现错误。<br>
			6、系统调试信息难于理解或存在问题。<br>
		</td>
	</tr>  
	<tr>
		<td>轻微</td>
		<td>缺陷发生以后，对用户只会造成轻<br>微的影响，这些影响一般在用户可<br>以忍受的范围内。</td>
		<td>1、产品的输出正确，但不够规范。<br>
			2、产品的提示信息不够清晰准确，难于理解。<br>
			3、文档中存在错别字、语句不通顺等问题。<br>
			4、长时间操作未给用户提示进度提示。<br>
		</td>
	</tr> 		
</table>
### 2.缺陷发生的概率
缺陷发生的概率是指缺陷在用户环境中发生的概率。不过在实际项目中,缺陷发生的概率往往是缺陷在测试环境中出现的概率。
缺陷发生概率分类：   
	<table>
		<tr>
			<th>缺陷发生概率</th>
			<th>定义&描述</th>
		</tr>
		<tr>
			<td>有条件必然重现</td>
			<td>缺陷在测试环境中每次都能必然复现</td>
		</tr>
		<tr>
			<td>有条件概率重现</td>
			<td>缺陷在测试环境中部会每次都复现，但按照特定的操作步骤出现概率很大</td>
		</tr>
		<tr>
			<td>无规律重现</td>
			<td>测试人员无法明确缺陷复现的步骤，但缺陷可以在测试环境中无规律出现</td>
		</tr>   
		<tr>
			<td>无法重现</td>
			<td>测试人员无法明确缺陷复现的步骤，且缺陷已无再出现</td>
		</tr>   		
	</table>
### 3.缺陷风险评估和规避措施
判断缺陷是否可以遗留,其实就是对缺陷进行风险评估。   
我们可以使用风险评估方法,来初步筛选出哪些缺陷可以遗留。对那些初步确认是可以遗留的缺陷,需要制订缺陷的规避措施。   
所谓规避措施,其实就是指一种风险应对措施。风险应对措施,对缺陷的规避措施依然有效,下面是一些可供参考的思路:   
口 系统提供了其他可替代的功能。   
口 系统在配置上给出限制,避免用户触发bug   
口 系统给出了明确的提示(包括资料手册等)。   
注：风险评估方法和风险应对措施详见xxxx。  
### 4.不能遗留的缺陷
原则上,满足下述条件的缺陷不应该成为遗留缺陷:   
口 “致命”缺陷不应该作为遗留缺陷。   
口 没有“规避措施”的“严重缺陷”不应该遗留。   
### 5.遗留缺陷列表
我们用一张表来记录遗留缺陷,通常也作为讨论和发布时的材料。
遗留缺陷列表：    
	<table>
		<tr>
			<th>遗漏缺陷</th>
			<th>对用户影响程度</th>
			<th>缺陷发现概率</th>
			<th>复现说明</th>
			<th>规避方法</th>
		</tr>
		<tr>
			<td>缺陷1</td>
			<td>严重</td>
			<td>有条件必然重现</td>
			<td>xxxxx</td>
			<td>在配置上做出限制</td>
		</tr>
		<tr>
			<td>缺陷2</td>
			<td>一般</td>
			<td>有条件概率重现</td>
			<td>xxxxx</td>
			<td>提供其他课替代配置方案</td>
		</tr>
		<tr>
			<td>缺陷3</td>
			<td>一般</td>
			<td>无规律重现</td>
			<td>xxxxx</td>
			<td>在文档中给出提示</td>
		</tr>     
	</table>
## 注意事项
### 1.临近发布时的缺陷修复策略
我们在确定遗留缺陷的过程中,   
一方面,由于不同人员对缺陷遗留的标准可能会有差别,难免又会临时决定要修改合入一些缺陷。    
另一方面,越到临近发布的时候,越需要控制缺陷修复的数量。   
以免引入更严重的问题得不偿失。
### 2.非必然重现bug的处理
在进行遗留缺陷分析时,我们讨论了缺陷发生的概率,对那些非必然重现的bug(指“无规律重现”和“无法重现”的bug),也需要定期进行跟踪和处理。    
在实际项目中,我们常常发现一些开发人员和测试人员对非必然重现bug的处理存在问题,如：   
口 一些开发人员认为问题不能复现,即使测试提交了bug也无法修改,提出来也没用,需要测试人员找到复现的条件后才能提bug。    
口 一些测试人员遇到非必然重现问题时,认为出现概率很小,可以不提bug。    
口 一些开发人员认为非必然重现问题如果经过一两个测试版本都没有出现,就可以关闭    

上面的这些处理方式都是错误的。这就需要软件测试架构师和测试经理、开发代表等在测试团队、开发团队中对非必然重现的问题达成共识:    
口 测试人员发现非必然重现的bug,也需要提bug。但是需要特别做好问题的记录,并在问题出现的第一时间找开发人员定位。   
口 Bug复现不仅仅是测试人员的工作,开发人员和测试人员可以一起复现bug    
口 未复现的bug不应该随便关闭。    

对最后一点,那些一直未能复现的bug,需要软件测试架构师定期将这些bug汇总,选择优先级高的缺陷,
组织开发人员和测试人员专门投入到复现问题,如果经过这样的专门复现依然不能复现，可以降低问题的优先级，直到bug的优先级降至最低，该bug才可以关闭或者挂起。

在项目前期，对非必然重现bug的跟踪周期可以稍长一些，越到了项目后期，越要加强对非必然重现bug的跟踪和复现工作。




